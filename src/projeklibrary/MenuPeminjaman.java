/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package projeklibrary;

import static com.sun.org.apache.xalan.internal.lib.ExsltDatetime.date;
import static com.sun.org.apache.xalan.internal.lib.ExsltDatetime.date;
import java.awt.Color;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.persistence.EntityManager;
import javax.persistence.NoResultException;
import javax.persistence.Persistence;
import javax.persistence.Query;
import javax.persistence.TypedQuery;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperCompileManager;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;
import net.sf.jasperreports.view.JasperViewer;
import static org.eclipse.persistence.expressions.ExpressionMath.mod;
import static projeklibrary.servisSkripsi.getById;
import static sun.util.calendar.CalendarUtils.mod;

/**
 *
 * @author LUI
 */
public class MenuPeminjaman extends javax.swing.JPanel {

    private final servisBuku servisB = new servisBuku();
    private final ServisPeminjam servisP = new ServisPeminjam();
    private List<Peminjaman> list = new ArrayList<>();
    private final servisPeminjaman servis = new servisPeminjaman();
    private final String[] headerName = {"NO", "NO Peminjaman", "Tanggal Pinjam",
        "Tanggal Kembali", "Keterangan", "Status", "ID Peminjam", "Nama Peminjam"};

    public MenuPeminjaman() {
        initComponents();
        Panel_Utama.removeAll();
        Panel_Utama.add(Pn_isi);
        Panel_Utama.revalidate();
        Panel_Utama.setVisible(true);
        loadData();

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        dateChooser1 = new com.raven.datechooser.DateChooser();
        Panel_Utama = new javax.swing.JPanel();
        pn_input = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        js_buku = new javax.swing.JScrollPane();
        tbl_buku = new javax.swing.JTable();
        js_skripsi = new javax.swing.JScrollPane();
        tbl_skripsi = new javax.swing.JTable();
        btn_tambah1 = new javax.swing.JButton();
        btn_batal1 = new javax.swing.JButton();
        btn_hapus1 = new javax.swing.JButton();
        btn_batal3 = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        tf_tglPinjam = new javax.swing.JTextField();
        tf_tglKembali = new javax.swing.JTextField();
        jPanel2 = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        tf_idAnggota = new javax.swing.JTextField();
        btn_cariIdPeminjam = new javax.swing.JButton();
        tf_nama = new javax.swing.JTextField();
        jPanel3 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        tf_idbuku = new javax.swing.JTextField();
        tf_isbn = new javax.swing.JTextField();
        tf_judul = new javax.swing.JTextField();
        tf_tahun = new javax.swing.JTextField();
        tf_bahasa = new javax.swing.JTextField();
        tf_pengarang = new javax.swing.JTextField();
        tf_penerbit = new javax.swing.JTextField();
        jsp_jml = new javax.swing.JSpinner();
        btn_cariIdBuku = new javax.swing.JButton();
        btn_cariIsbn = new javax.swing.JButton();
        btn_inputBuku = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        tf_idskrip = new javax.swing.JTextField();
        tf_judulskrip = new javax.swing.JTextField();
        tf_tahunskrip = new javax.swing.JTextField();
        tf_bahasaskrip = new javax.swing.JTextField();
        tf_prodiskrip = new javax.swing.JTextField();
        tf_penulisskrip = new javax.swing.JTextField();
        tf_pembimbing = new javax.swing.JTextField();
        jsp_jumlahskrip = new javax.swing.JSpinner();
        jButton4 = new javax.swing.JButton();
        btn_inputSkripsi = new javax.swing.JButton();
        jLabel39 = new javax.swing.JLabel();
        tf_noPeminjaman = new javax.swing.JTextField();
        Pn_isi = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel19 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tbl_isi = new javax.swing.JTable();
        btn_tambah = new javax.swing.JButton();
        btn_hapus = new javax.swing.JButton();
        btn_batal = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jLabel26 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        ta_keterangan = new javax.swing.JTextArea();
        cbx_status = new javax.swing.JComboBox<>();
        tf_tglKembaliDetail = new javax.swing.JTextField();
        tf_tglPinjamDetail = new javax.swing.JTextField();
        jLabel28 = new javax.swing.JLabel();
        jLabel30 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        jLabel36 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        jLabel34 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        tf_idDetail = new javax.swing.JTextField();
        tf_namaDetail = new javax.swing.JTextField();
        tf_fakultas = new javax.swing.JTextField();
        tf_prodiDetail = new javax.swing.JTextField();
        tf_email = new javax.swing.JTextField();
        tf_tlp = new javax.swing.JTextField();
        jScrollPane2 = new javax.swing.JScrollPane();
        tbl_detail = new javax.swing.JTable();
        tf_noDetail = new javax.swing.JTextField();
        jLabel29 = new javax.swing.JLabel();
        btn_cetak1 = new javax.swing.JButton();
        btn_simpan = new javax.swing.JButton();
        tf_cari = new javax.swing.JTextField();
        btn_cari = new javax.swing.JButton();
        cbx_cari = new javax.swing.JComboBox<>();

        dateChooser1.setDateFormat("yyyy-MM-dd");
        dateChooser1.setTextRefernce(tf_tglKembali);

        setLayout(new java.awt.CardLayout());

        Panel_Utama.setLayout(new java.awt.CardLayout());

        jLabel1.setBackground(new java.awt.Color(26, 27, 48));
        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel1.setText("INPUT PEMINJAMAN");

        tbl_buku.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID Buku", "Judul", "Pengarang", "Jumlah"
            }
        ));
        tbl_buku.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_bukuMouseClicked(evt);
            }
        });
        js_buku.setViewportView(tbl_buku);

        tbl_skripsi.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID Skripsi", "Judul", "Penulis", "Jumlah"
            }
        ));
        tbl_skripsi.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_skripsiMouseClicked(evt);
            }
        });
        js_skripsi.setViewportView(tbl_skripsi);

        btn_tambah1.setBackground(new java.awt.Color(102, 0, 0));
        btn_tambah1.setForeground(new java.awt.Color(255, 255, 255));
        btn_tambah1.setText("SIMPAN");
        btn_tambah1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_tambah1ActionPerformed(evt);
            }
        });

        btn_batal1.setBackground(new java.awt.Color(102, 0, 0));
        btn_batal1.setForeground(new java.awt.Color(255, 255, 255));
        btn_batal1.setText("BATAL");
        btn_batal1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_batal1ActionPerformed(evt);
            }
        });

        btn_hapus1.setBackground(new java.awt.Color(102, 0, 0));
        btn_hapus1.setForeground(new java.awt.Color(255, 255, 255));
        btn_hapus1.setText("HAPUS");
        btn_hapus1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_hapus1ActionPerformed(evt);
            }
        });

        btn_batal3.setBackground(new java.awt.Color(102, 0, 0));
        btn_batal3.setForeground(new java.awt.Color(255, 255, 255));
        btn_batal3.setText("BATAL");
        btn_batal3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_batal3ActionPerformed(evt);
            }
        });

        jPanel1.setBackground(new java.awt.Color(26, 27, 48));

        jLabel3.setForeground(new java.awt.Color(255, 255, 255));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel3.setText("Tanggal");

        jLabel2.setForeground(new java.awt.Color(255, 255, 255));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2.setText("Pinjam");

        jLabel4.setForeground(new java.awt.Color(255, 255, 255));
        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel4.setText("Kembali");

        tf_tglKembali.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tf_tglKembaliMouseClicked(evt);
            }
        });
        tf_tglKembali.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tf_tglKembaliActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_tglPinjam, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(34, 34, 34)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_tglKembali, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(23, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(jLabel4))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tf_tglPinjam, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tf_tglKembali, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(0, 28, Short.MAX_VALUE))
        );

        jPanel2.setBackground(new java.awt.Color(26, 27, 48));

        jLabel5.setForeground(new java.awt.Color(255, 255, 255));
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel5.setText("Peminjam");

        jLabel6.setForeground(new java.awt.Color(255, 255, 255));
        jLabel6.setText("ID");

        tf_idAnggota.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tf_idAnggotaActionPerformed(evt);
            }
        });

        btn_cariIdPeminjam.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Search.png"))); // NOI18N
        btn_cariIdPeminjam.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_cariIdPeminjamActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(tf_nama)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 19, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(tf_idAnggota, javax.swing.GroupLayout.PREFERRED_SIZE, 121, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btn_cariIdPeminjam, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(11, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_idAnggota)
                    .addComponent(btn_cariIdPeminjam, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_nama, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 57, Short.MAX_VALUE))
        );

        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 0, 0), null));

        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7.setText("BUKU");

        jLabel9.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel9.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel9.setText("ID Buku");

        jLabel10.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel10.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel10.setText("ISBN");

        jLabel11.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel11.setText("Judul");

        jLabel12.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel12.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel12.setText("Tahun");

        jLabel13.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel13.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel13.setText("Bahasa");

        jLabel14.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel14.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel14.setText("Pengarang");

        jLabel15.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel15.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel15.setText("Penerbit");

        jLabel16.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel16.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel16.setText("Jumlah");

        btn_cariIdBuku.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Search.png"))); // NOI18N
        btn_cariIdBuku.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_cariIdBukuActionPerformed(evt);
            }
        });

        btn_cariIsbn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Search.png"))); // NOI18N
        btn_cariIsbn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_cariIsbnActionPerformed(evt);
            }
        });

        btn_inputBuku.setBackground(new java.awt.Color(102, 0, 0));
        btn_inputBuku.setText("INPUT BUKU");
        btn_inputBuku.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_inputBukuActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel3Layout.createSequentialGroup()
                                        .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(tf_isbn))
                                    .addGroup(jPanel3Layout.createSequentialGroup()
                                        .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(tf_idbuku, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(btn_cariIsbn, javax.swing.GroupLayout.PREFERRED_SIZE, 33, Short.MAX_VALUE)
                                    .addComponent(btn_cariIdBuku, javax.swing.GroupLayout.PREFERRED_SIZE, 1, Short.MAX_VALUE)))
                            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addGroup(jPanel3Layout.createSequentialGroup()
                                    .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(tf_judul))
                                .addGroup(jPanel3Layout.createSequentialGroup()
                                    .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(tf_tahun))
                                .addGroup(jPanel3Layout.createSequentialGroup()
                                    .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(tf_bahasa))
                                .addComponent(jLabel14)
                                .addComponent(jLabel15)
                                .addComponent(tf_pengarang)
                                .addComponent(tf_penerbit)
                                .addGroup(jPanel3Layout.createSequentialGroup()
                                    .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(jsp_jml, javax.swing.GroupLayout.DEFAULT_SIZE, 140, Short.MAX_VALUE)))))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(64, 64, 64)
                        .addComponent(btn_inputBuku)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_idbuku, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_cariIdBuku, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_isbn, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_cariIsbn, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_judul, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_tahun, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_bahasa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel14)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_pengarang, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel15)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_penerbit, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(jsp_jml, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17)
                .addComponent(btn_inputBuku)
                .addContainerGap())
        );

        jPanel4.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(102, 0, 0), null));

        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel8.setText("SKRIPSI");

        jLabel18.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel18.setText("ID Skripsi");

        jLabel20.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel20.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel20.setText("Judul");

        jLabel21.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel21.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel21.setText("Tahun");

        jLabel22.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel22.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel22.setText("Bahasa");

        jLabel25.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel25.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel25.setText("Prodi");

        jLabel23.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel23.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel23.setText("Penulis");

        jLabel24.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel24.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel24.setText("Pembimbing");

        jLabel17.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel17.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel17.setText("Jumlah");

        tf_judulskrip.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tf_judulskripActionPerformed(evt);
            }
        });

        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Search.png"))); // NOI18N
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        btn_inputSkripsi.setBackground(new java.awt.Color(102, 0, 0));
        btn_inputSkripsi.setText("INPUT SKIPSI");
        btn_inputSkripsi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_inputSkripsiActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tf_pembimbing)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(tf_penulisskrip, javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel24)
                                .addGroup(jPanel4Layout.createSequentialGroup()
                                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel23))
                                    .addGap(18, 18, 18)
                                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(tf_tahunskrip)
                                        .addComponent(tf_bahasaskrip)
                                        .addComponent(tf_prodiskrip)
                                        .addComponent(tf_judulskrip)
                                        .addGroup(jPanel4Layout.createSequentialGroup()
                                            .addComponent(tf_idskrip, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(jButton4, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(36, 36, 36)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(btn_inputSkripsi)
                                .addGap(0, 0, Short.MAX_VALUE))
                            .addComponent(jsp_jumlahskrip))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_idskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton4, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_judulskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_tahunskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_bahasaskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel25, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tf_prodiskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel23)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_penulisskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel24)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_pembimbing, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel17)
                    .addComponent(jsp_jumlahskrip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(btn_inputSkripsi)
                .addContainerGap())
        );

        jLabel39.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel39.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel39.setText("NO :");

        javax.swing.GroupLayout pn_inputLayout = new javax.swing.GroupLayout(pn_input);
        pn_input.setLayout(pn_inputLayout);
        pn_inputLayout.setHorizontalGroup(
            pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pn_inputLayout.createSequentialGroup()
                .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(pn_inputLayout.createSequentialGroup()
                        .addGap(22, 22, 22)
                        .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pn_inputLayout.createSequentialGroup()
                                .addComponent(btn_batal1, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(btn_tambah1)
                                .addGap(49, 49, 49))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pn_inputLayout.createSequentialGroup()
                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(5, 5, 5))
                            .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(12, 12, 12)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pn_inputLayout.createSequentialGroup()
                        .addGap(20, 20, 20)
                        .addComponent(jLabel39, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_noPeminjaman, javax.swing.GroupLayout.PREFERRED_SIZE, 112, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(150, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pn_inputLayout.createSequentialGroup()
                .addGap(23, 23, 23)
                .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btn_hapus1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_batal3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 74, Short.MAX_VALUE)
                .addComponent(js_buku, javax.swing.GroupLayout.PREFERRED_SIZE, 306, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(js_skripsi, javax.swing.GroupLayout.PREFERRED_SIZE, 299, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(119, 119, 119))
        );
        pn_inputLayout.setVerticalGroup(
            pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pn_inputLayout.createSequentialGroup()
                .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pn_inputLayout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tf_noPeminjaman, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel39)))
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pn_inputLayout.createSequentialGroup()
                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(57, 57, 57)
                        .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btn_batal1)
                            .addComponent(btn_tambah1, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pn_inputLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pn_inputLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(js_skripsi, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                            .addComponent(js_buku, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 331, Short.MAX_VALUE))
                        .addContainerGap())
                    .addGroup(pn_inputLayout.createSequentialGroup()
                        .addGap(99, 99, 99)
                        .addComponent(btn_hapus1)
                        .addGap(18, 18, 18)
                        .addComponent(btn_batal3)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );

        Panel_Utama.add(pn_input, "card3");

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel19.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/Person1_1.png"))); // NOI18N
        jLabel19.setText("DATA  PEMINJAMAN PERPUSTAKAAN BOOKCAMPS");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 886, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel19, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        tbl_isi.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "NO. PEMINJAMANAN", "NAMA PEMINJAM", "STATUS", "TANGGAL PINJAM", "TANGGAL KEMBALI"
            }
        ));
        tbl_isi.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_isiMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tbl_isi);

        btn_tambah.setBackground(new java.awt.Color(102, 0, 0));
        btn_tambah.setForeground(new java.awt.Color(255, 255, 255));
        btn_tambah.setText("TAMBAH");
        btn_tambah.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_tambahActionPerformed(evt);
            }
        });

        btn_hapus.setBackground(new java.awt.Color(102, 0, 0));
        btn_hapus.setForeground(new java.awt.Color(255, 255, 255));
        btn_hapus.setText("HAPUS");
        btn_hapus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_hapusActionPerformed(evt);
            }
        });

        btn_batal.setBackground(new java.awt.Color(102, 0, 0));
        btn_batal.setForeground(new java.awt.Color(255, 255, 255));
        btn_batal.setText("BATAL\n");
        btn_batal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_batalActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 35, Short.MAX_VALUE)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 39, Short.MAX_VALUE)
        );

        jLabel26.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel26.setText("DETAIL PEMINJAMAN");

        ta_keterangan.setBackground(new java.awt.Color(204, 204, 204));
        ta_keterangan.setColumns(20);
        ta_keterangan.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        ta_keterangan.setForeground(new java.awt.Color(68, 50, 124));
        ta_keterangan.setRows(5);
        jScrollPane3.setViewportView(ta_keterangan);

        cbx_status.setFont(new java.awt.Font("Segoe UI", 0, 12)); // NOI18N
        cbx_status.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Dipinjam", "Selesai" }));
        cbx_status.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbx_statusActionPerformed(evt);
            }
        });

        tf_tglKembaliDetail.setEditable(false);
        tf_tglKembaliDetail.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        tf_tglPinjamDetail.setEditable(false);
        tf_tglPinjamDetail.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        jLabel28.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel28.setText("Tanggal Pinjam");

        jLabel30.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel30.setText("Tanggal Kembali");

        jLabel31.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel31.setText("Status");

        jLabel32.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel32.setText("Keterangan");

        jLabel38.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel38.setText("Telephone Peminjam");

        jLabel37.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel37.setText("Email Peminjam");

        jLabel36.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel36.setText("Prodi Peminjam");

        jLabel35.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel35.setText("Fakultas Peminjam");

        jLabel34.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel34.setText("Nama Peminjam");

        jLabel33.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel33.setText("ID Peminjam");

        tf_idDetail.setEditable(false);
        tf_idDetail.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tf_idDetail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tf_idDetailActionPerformed(evt);
            }
        });

        tf_namaDetail.setEditable(false);
        tf_namaDetail.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tf_namaDetail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tf_namaDetailActionPerformed(evt);
            }
        });

        tf_fakultas.setEditable(false);
        tf_fakultas.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        tf_prodiDetail.setEditable(false);
        tf_prodiDetail.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        tf_email.setEditable(false);
        tf_email.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        tf_tlp.setEditable(false);
        tf_tlp.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N

        tbl_detail.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "No", "Judul", "Kategori", "Pengarang"
            }
        ));
        jScrollPane2.setViewportView(tbl_detail);

        tf_noDetail.setEditable(false);
        tf_noDetail.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        tf_noDetail.setForeground(new java.awt.Color(68, 50, 124));
        tf_noDetail.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        tf_noDetail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tf_noDetailActionPerformed(evt);
            }
        });

        jLabel29.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        jLabel29.setText("NO :");

        btn_cetak1.setText("CETAK");
        btn_cetak1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_cetak1ActionPerformed(evt);
            }
        });

        btn_simpan.setBackground(new java.awt.Color(102, 0, 0));
        btn_simpan.setForeground(new java.awt.Color(255, 255, 255));
        btn_simpan.setText("SIMPAN");
        btn_simpan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_simpanActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel29)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(tf_noDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(jLabel32, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel30, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel31, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel28, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(tf_tglPinjamDetail)
                            .addComponent(tf_tglKembaliDetail)
                            .addComponent(cbx_status, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(31, 31, 31)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel34, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel35, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                        .addComponent(jLabel36, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabel37, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jLabel38, javax.swing.GroupLayout.Alignment.LEADING))
                                    .addComponent(jLabel33, javax.swing.GroupLayout.PREFERRED_SIZE, 141, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(tf_idDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 199, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tf_namaDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 199, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tf_fakultas, javax.swing.GroupLayout.PREFERRED_SIZE, 199, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tf_email, javax.swing.GroupLayout.PREFERRED_SIZE, 199, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tf_tlp, javax.swing.GroupLayout.PREFERRED_SIZE, 199, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tf_prodiDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 199, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 629, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btn_simpan, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(btn_cetak1)))
                .addGap(16, 16, 16))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(tf_noDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel29)))
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tf_idDetail, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel28)
                        .addComponent(jLabel33)
                        .addComponent(tf_tglPinjamDetail, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel30)
                    .addComponent(tf_tglKembaliDetail, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel34)
                    .addComponent(tf_namaDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(tf_fakultas, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel31)
                        .addComponent(cbx_status, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel35)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel32)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel36)
                            .addComponent(tf_prodiDetail, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel37)
                            .addComponent(tf_email, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel38)
                            .addComponent(tf_tlp, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(48, 48, 48)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 167, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addComponent(btn_simpan)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btn_cetak1)))
                .addContainerGap())
        );

        tf_cari.setFont(new java.awt.Font("Segoe UI", 0, 12)); // NOI18N
        tf_cari.setForeground(new java.awt.Color(204, 204, 204));
        tf_cari.setText("Cari");
        tf_cari.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(204, 204, 204)));
        tf_cari.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tf_cariFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tf_cariFocusLost(evt);
            }
        });

        btn_cari.setFont(new java.awt.Font("Segoe UI", 0, 10)); // NOI18N
        btn_cari.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_cariActionPerformed(evt);
            }
        });

        cbx_cari.setFont(new java.awt.Font("Segoe UI", 0, 11)); // NOI18N
        cbx_cari.setForeground(new java.awt.Color(204, 204, 204));
        cbx_cari.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NO PEMINJAMAN", "NAMA PEMINJAM", "STATUS", "TANGGAL PINJAM", "TANGGAL KEMBALI" }));
        cbx_cari.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(204, 204, 204)));
        cbx_cari.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbx_cariActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout Pn_isiLayout = new javax.swing.GroupLayout(Pn_isi);
        Pn_isi.setLayout(Pn_isiLayout);
        Pn_isiLayout.setHorizontalGroup(
            Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addGroup(Pn_isiLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(Pn_isiLayout.createSequentialGroup()
                        .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(Pn_isiLayout.createSequentialGroup()
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 632, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(btn_tambah, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn_hapus, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn_batal, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(134, 134, 134)
                                .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(cbx_cari, javax.swing.GroupLayout.PREFERRED_SIZE, 166, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(Pn_isiLayout.createSequentialGroup()
                                    .addComponent(tf_cari, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(btn_cari, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addContainerGap())
                    .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );
        Pn_isiLayout.setVerticalGroup(
            Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(Pn_isiLayout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 33, Short.MAX_VALUE)
                .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tf_cari, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_cari, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cbx_cari, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, Pn_isiLayout.createSequentialGroup()
                        .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(516, 516, 516))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, Pn_isiLayout.createSequentialGroup()
                        .addGroup(Pn_isiLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(Pn_isiLayout.createSequentialGroup()
                                .addComponent(btn_tambah)
                                .addGap(18, 18, 18)
                                .addComponent(btn_hapus)
                                .addGap(18, 18, 18)
                                .addComponent(btn_batal)
                                .addGap(26, 26, 26)))
                        .addGap(18, 18, 18)
                        .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(42, 42, 42))))
        );

        Panel_Utama.add(Pn_isi, "card2");

        add(Panel_Utama, "card2");
    }// </editor-fold>//GEN-END:initComponents

    private void tbl_bukuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_bukuMouseClicked
        tbl_skripsi.clearSelection();
        btn_hapus1.setVisible(true);
        btn_batal3.setVisible(true);
    }//GEN-LAST:event_tbl_bukuMouseClicked

    private void tbl_skripsiMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_skripsiMouseClicked
        tbl_buku.clearSelection();
        btn_hapus1.setVisible(true);
        btn_batal3.setVisible(true);
    }//GEN-LAST:event_tbl_skripsiMouseClicked

    private void btn_tambah1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_tambah1ActionPerformed
        try {
            SimpleDateFormat tanggal = new SimpleDateFormat("yyyy-MM-dd");
            Peminjaman mod = new Peminjaman();
            PeminjamanPK pPK = new PeminjamanPK();
            EntityManager em = Persistence.createEntityManagerFactory("ProjekLibraryPU").createEntityManager();
            em.getTransaction().begin();
            Peminjam p = em.find(Peminjam.class, tf_idAnggota.getText());

            Petugas pet = MenuUtama.mod;
            pPK.setNoPeminjaman(tf_noPeminjaman.getText());
            pPK.setIdPeminjam(p.getIdPeminjam());
            pPK.setIdPetugas(pet.getIdPetugas());
            mod.setPeminjamanPK(pPK);
            mod.setTanggalPinjam(tanggal.parse(tf_tglPinjam.getText()));
            mod.setTanggalKembali(tanggal.parse(tf_tglKembali.getText()));
            mod.setPeminjam(p);
            mod.setPetugas(pet);

            List<DetailBuku> buku = new ArrayList();
            List<DetailSkripsi> skripsi = new ArrayList();
            DefaultTableModel tblB = (DefaultTableModel) tbl_buku.getModel();
            DefaultTableModel tblS = (DefaultTableModel) tbl_skripsi.getModel();
            int indexB = tblB.getRowCount() - 1;
            int indexS = tblS.getRowCount() - 1;

            for (int i = 0; i <= indexB; i++) {
                String b = tblB.getValueAt(i, 0).toString();
                int jml = Integer.parseInt(tblB.getValueAt(i, 3).toString());
                DetailBuku bk = new DetailBuku();
                DetailBukuPK bPK = new DetailBukuPK();
                Buku_1 pi = em.find(Buku_1.class, b);
                if (pi != null) {
                    pi.setKategori(ambilKategori(b));
                    pi.setPengarang(ambilPengarang(b));
                }
                bPK.setIdBuku(b);
                bPK.setIdPeminjam(p.getIdPeminjam());
                bPK.setNoPeminjaman(pPK.getNoPeminjaman());
                bPK.setIdPetugas(pet.getIdPetugas());
                bk.setBuku(pi);
                bk.setJumlah(jml);
                bk.setDetailBukuPK(bPK);
                buku.add(bk);
            }

            for (int i = 0; i <= indexS; i++) {
                String b = tblS.getValueAt(i, 0).toString();
                int jml = Integer.parseInt(tblS.getValueAt(i, 3).toString());
                DetailSkripsi bk = new DetailSkripsi();
                DetailSkripsiPK bPK = new DetailSkripsiPK();
                Skripsi pi = em.find(Skripsi.class, b);
                if (pi != null) {
                    pi.setKategori(ambilKategori(b));
                }
                bPK.setIdSkripsi(b);
                bPK.setIdPeminjam(p.getIdPeminjam());
                bPK.setNoPeminjaman(pPK.getNoPeminjaman());
                bPK.setIdPetugas(pet.getIdPetugas());
                bk.setSkripsi(pi);
                bk.setJumlah(jml);
                bk.setDetailSkripsiPK(bPK);
                skripsi.add(bk);
            }

            mod.setDetailBukuCollection(buku);
            mod.setDetailSkripsiCollection(skripsi);
            mod.setStatus("Dipinjam");
            mod.setKeterangan("");

            em.persist(mod);
            em.getTransaction().commit();
            em.close();
            resetForm();
        } catch (ParseException ex) {
            Logger.getLogger(MenuPeminjaman.class.getName()).log(Level.SEVERE, null, ex);
        }
        }//GEN-LAST:event_btn_tambah1ActionPerformed

    private void btn_batal1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_batal1ActionPerformed
        jLabel2.requestFocus();
        Panel_Utama.removeAll();
        Panel_Utama.repaint();
        Panel_Utama.revalidate();

        Panel_Utama.add(Pn_isi);
        Panel_Utama.repaint();
        Panel_Utama.revalidate();

        loadData();

    }//GEN-LAST:event_btn_batal1ActionPerformed

    private void btn_hapus1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_hapus1ActionPerformed
        DefaultTableModel tblB = (DefaultTableModel) tbl_buku.getModel();
        int indexB = tbl_buku.getSelectedRow();
        DefaultTableModel tblS = (DefaultTableModel) tbl_skripsi.getModel();
        int indexS = tbl_skripsi.getSelectedRow();
        if (indexB > -1) {
            tblB.removeRow(indexB);
        }
        if (indexS > -1) {
            tblS.removeRow(indexS);
        }

        tbl_buku.clearSelection();
        tbl_skripsi.clearSelection();

        btn_hapus1.setVisible(false);
        btn_batal3.setVisible(false);
    }//GEN-LAST:event_btn_hapus1ActionPerformed

    private void btn_batal3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_batal3ActionPerformed
        tbl_buku.clearSelection();
        tbl_skripsi.clearSelection();
        btn_hapus1.setVisible(false);
        btn_batal3.setVisible(false);
    }//GEN-LAST:event_btn_batal3ActionPerformed

    private void btn_cariIdPeminjamActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_cariIdPeminjamActionPerformed
        Peminjam mod = servisP.getById(tf_idAnggota.getText());
        if (mod != null) {
            JOptionPane.showMessageDialog(null, "Terdapat Anggota dengan ID " + tf_idAnggota.getText());
            setPeminjam(mod);
        } else {
            JOptionPane.showMessageDialog(null, "Tidak terdapat Anggota dengan ID " + tf_idAnggota.getText());
        }
        jLabel2.requestFocus();
    }//GEN-LAST:event_btn_cariIdPeminjamActionPerformed

    private void btn_cariIdBukuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_cariIdBukuActionPerformed
        Buku_1 mod = servisB.getById(tf_idbuku.getText());
        if (mod != null) {
            JOptionPane.showMessageDialog(null, "Terdapat buku dengan ID " + tf_idbuku.getText());
            setBuku(mod);
        } else {
            JOptionPane.showMessageDialog(null, "Tidak terdapat buku dengan ID " + tf_idbuku.getText());
        }
        jLabel2.requestFocus();
    }//GEN-LAST:event_btn_cariIdBukuActionPerformed

    private void tf_judulskripActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tf_judulskripActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tf_judulskripActionPerformed

    private void btn_inputBukuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_inputBukuActionPerformed
        Buku_1 modB = servisB.getById(tf_idbuku.getText());
        if (modB != null) {
            int jumlah = Integer.parseInt(jsp_jml.getValue().toString());
            int stok = modB.getJumlahBuku() - servisB.jmlDipinjam(modB.getIdBuku());
            if (jumlah <= stok) {
                DefaultTableModel tbl = (DefaultTableModel) tbl_buku.getModel();
                Object[] obj = new Object[4];
                int index = -1;
                for (int i = 0; i < tbl.getRowCount(); i++) {
                    if (tbl.getValueAt(i, 0).toString().equalsIgnoreCase(modB.getIdBuku())) {
                        index = i;
                    }
                }
                if (index > -1) {
                    int jml = Integer.parseInt(tbl.getValueAt(index, 3).toString());
                    tbl.setValueAt(jml + jumlah, index, 3);
                } else {
                    obj[0] = modB.getIdBuku();
                    obj[1] = modB.getJudul();
                    obj[2] = modB.getAllPengarang();
                    obj[3] = jumlah;
                    tbl.addRow(obj);
                }
                resetBuku();
            } else {
                String s = "Buku dengan ID " + modB.getIdBuku() + " tinggal " + stok + " salinan";
                JOptionPane.showMessageDialog(Pn_isi, s);
            }
        } else {
            JOptionPane.showMessageDialog(Pn_isi, "Pilih Skripsi Telebih dahulu");
        }

        jLabel2.requestFocus();
    }//GEN-LAST:event_btn_inputBukuActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton4ActionPerformed

    private void tf_idAnggotaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tf_idAnggotaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tf_idAnggotaActionPerformed

    private void btn_tambahActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_tambahActionPerformed
        resetForm();

        Panel_Utama.removeAll();
        Panel_Utama.repaint();
        Panel_Utama.revalidate();

        Panel_Utama.add(pn_input);
        Panel_Utama.repaint();
        Panel_Utama.revalidate();


    }//GEN-LAST:event_btn_tambahActionPerformed

    private void btn_hapusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_hapusActionPerformed
        String s = (String) tbl_isi.getValueAt(tbl_isi.getSelectedRow(), 1);
        if (JOptionPane.showConfirmDialog(null, "Menghapus peminjaman dengan NO " + s, "Apakah anda yakin", 0, 0) == 0) {
            servisBuku.hapusData((String) tbl_isi.getValueAt(tbl_isi.getSelectedRow(), 1));
        }
        loadData();

    }//GEN-LAST:event_btn_hapusActionPerformed

    private void btn_batalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_batalActionPerformed
        loadData();
    }//GEN-LAST:event_btn_batalActionPerformed

    private void tf_tglKembaliActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tf_tglKembaliActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tf_tglKembaliActionPerformed

    private void tbl_isiMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_isiMouseClicked
        btn_hapus.setVisible(true);
        btn_batal.setVisible(true);
        Pn_isi.setVisible(true);

        EntityManager em = Persistence.createEntityManagerFactory("ProjekLibraryPU").createEntityManager();
        em.getTransaction().begin();
        Peminjaman mod = servisPeminjaman.getByNo(tbl_isi.getValueAt(tbl_isi.getSelectedRow(), 0).toString());
        em.getTransaction().commit();
        em.close();

        tf_noDetail.setText(mod.getPeminjamanPK().getNoPeminjaman());
        tf_tglPinjamDetail.setText(mod.getTglPinjam());
        tf_tglKembaliDetail.setText(mod.getTglKembali());
        cbx_status.setSelectedItem(mod.getStatus());
        ta_keterangan.setText(mod.getKeterangan());

        tf_idDetail.setText(mod.getPeminjam().getIdPeminjam());
        tf_namaDetail.setText(mod.getPeminjam().getNama());
        tf_fakultas.setText(mod.getPeminjam().getFakultas());
        tf_prodiDetail.setText(mod.getPeminjam().getProgramStudi());
        tf_email.setText(mod.getPeminjam().getEmail());
        tf_tlp.setText(mod.getPeminjam().getTelephone());
    }//GEN-LAST:event_tbl_isiMouseClicked

    private void tf_cariFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tf_cariFocusGained
        if (tf_cari.getText().equals("Cari") || tf_cari.getText().equalsIgnoreCase("")) {
            tf_cari.setText("");
        }
    }//GEN-LAST:event_tf_cariFocusGained

    private void tf_cariFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tf_cariFocusLost
        if (tf_cari.getText().equals("Cari") || tf_cari.getText().equalsIgnoreCase("")) {
            tf_cari.setText("Cari");
        }
    }//GEN-LAST:event_tf_cariFocusLost

    private void btn_cariActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_cariActionPerformed
        try {
            DefaultTableModel tbl = (DefaultTableModel) tbl_isi.getModel();
            String sc = tf_cari.getText();
            SimpleDateFormat tanggal = new SimpleDateFormat("yyyy-MM-dd");
            List<Peminjaman> list = new ArrayList();
            switch (cbx_cari.getSelectedIndex()) {
                case 0:
                    list = servis.getByNO(sc);
                    break;
                case 1:
                    list = servis.getByPeminjam(sc);
                    break;
                case 2:
                    list = servis.getBystatus(sc);
                    break;
                case 3:
                    list = servis.getByTglPinjam(tanggal.parse(sc));
                    break;
                case 4:
                    list = servis.getByTglKembali(tanggal.parse(sc));
                    break;
            }
            for (Peminjaman p : list) {
                tbl.addRow(new Object[]{
                    p.getPeminjamanPK().getNoPeminjaman(), p.getPeminjam().getNama(),
                    p.getStatus(), p.getTglPinjam(), p.getTglKembali()

                });
            }
        } catch (ParseException ex) {
            Logger.getLogger(MenuPeminjaman.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_btn_cariActionPerformed

    private void btn_inputSkripsiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_inputSkripsiActionPerformed
        Skripsi modS = servisSkripsi.getById(tf_idskrip.getText());
        if (modS != null) {
            int jumlah = Integer.parseInt(jsp_jumlahskrip.getValue().toString());
            int stok = modS.getJumlahSalinan() - new servisSkripsi().jmlPipinjam(modS.getIdSkripsi());
            if (jumlah <= stok) {
                DefaultTableModel tbl = (DefaultTableModel) tbl_skripsi.getModel();
                Object[] obj = new Object[4];
                int index = -1;
                for (int i = 0; i < tbl.getRowCount(); i++) {
                    if (tbl.getValueAt(i, 0).toString().equalsIgnoreCase(modS.getIdSkripsi())) {
                        index = i;
                    }
                }
                if (index > -1) {
                    int jml = Integer.parseInt(tbl.getValueAt(index, 3).toString());
                    tbl.setValueAt(jml + jumlah, index, 3);
                } else {
                    obj[0] = modS.getIdSkripsi();
                    obj[1] = modS.getJudul();
                    obj[2] = modS.getPenulis();
                    obj[3] = jumlah;
                    tbl.addRow(obj);
                }
                resetSkripsi();
            } else {
                String s = "Skripsi dengan ID " + modS.getIdSkripsi() + " tinggal " + stok + " salinan";
                JOptionPane.showMessageDialog(Pn_isi, s);
            }
        } else {
            JOptionPane.showMessageDialog(Pn_isi, "Pilih Skripsi Telebih dahulu");
        }

        jLabel2.requestFocus();
    }//GEN-LAST:event_btn_inputSkripsiActionPerformed

    private void cbx_cariActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbx_cariActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbx_cariActionPerformed

    private void btn_cariIsbnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_cariIsbnActionPerformed
        Buku_1 mod = servisB.getById(tf_isbn.getText());
        if (mod != null) {
            JOptionPane.showMessageDialog(null, "Terdapat buku dengan ISBN " + tf_isbn.getText());
            setBuku(mod);
        } else {
            JOptionPane.showMessageDialog(null, "Tidak terdapat buku dengan ISBN " + tf_isbn.getText());
        }
        jLabel2.requestFocus();

    }//GEN-LAST:event_btn_cariIsbnActionPerformed

    private void tf_tglKembaliMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tf_tglKembaliMouseClicked
        dateChooser1.showPopup();
    }//GEN-LAST:event_tf_tglKembaliMouseClicked

    private void btn_simpanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_simpanActionPerformed
        Peminjaman mod = servisPeminjaman.getByNo(tf_noDetail.getText());
        mod.setStatus(cbx_status.getSelectedItem().toString());
        mod.setKeterangan(ta_keterangan.getText());
        servisBuku.ubahData(mod);
        loadData();// TODO add your handling code here:
    }//GEN-LAST:event_btn_simpanActionPerformed

    private void tf_noDetailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tf_noDetailActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tf_noDetailActionPerformed

    private void tf_namaDetailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tf_namaDetailActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tf_namaDetailActionPerformed

    private void tf_idDetailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tf_idDetailActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tf_idDetailActionPerformed

    private void cbx_statusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbx_statusActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbx_statusActionPerformed

    private void btn_cetak1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_cetak1ActionPerformed
        try {
            List<Peminjaman> p = servis.getByNO(tf_noDetail.getText());
            System.out.println(tf_noDetail.getText());
            System.out.println(p.size());
//            List<DetailBuku> results = new ArrayList();
//            result
//            List<DetailSkripsi> ds = new ArrayList(p.get(0).getDetailSkripsiCollection());
            
            Map<String, Object> parameter = new HashMap<>();
            parameter.put("nama", p.get(0).getPeminjam().getNama());
            parameter.put("tglPinjam", p.get(0).getTanggalPinjam());
            parameter.put("tglKembali",p.get(0).getTanggalKembali());
            String jrxmlFile = "src/projeklibrary/reportBuku.jrxml";
            JasperReport jr = JasperCompileManager.compileReport(jrxmlFile);
            JasperPrint jp = JasperFillManager.fillReport(jr, parameter, new JRBeanCollectionDataSource(p.get(0).getDetailBukuCollection()));
            JasperViewer.viewReport(jp, false);

        } catch (JRException ex) {
            Logger.getLogger(Buku.class
                    .getName()).log(Level.SEVERE, null, ex);

        }
    }//GEN-LAST:event_btn_cetak1ActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel Panel_Utama;
    private javax.swing.JPanel Pn_isi;
    private javax.swing.JButton btn_batal;
    private javax.swing.JButton btn_batal1;
    private javax.swing.JButton btn_batal3;
    private javax.swing.JButton btn_cari;
    private javax.swing.JButton btn_cariIdBuku;
    private javax.swing.JButton btn_cariIdPeminjam;
    private javax.swing.JButton btn_cariIsbn;
    private javax.swing.JButton btn_cetak1;
    private javax.swing.JButton btn_hapus;
    private javax.swing.JButton btn_hapus1;
    private javax.swing.JButton btn_inputBuku;
    private javax.swing.JButton btn_inputSkripsi;
    private javax.swing.JButton btn_simpan;
    private javax.swing.JButton btn_tambah;
    private javax.swing.JButton btn_tambah1;
    private javax.swing.JComboBox<String> cbx_cari;
    private javax.swing.JComboBox<String> cbx_status;
    private com.raven.datechooser.DateChooser dateChooser1;
    private javax.swing.JButton jButton4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane js_buku;
    private javax.swing.JScrollPane js_skripsi;
    private javax.swing.JSpinner jsp_jml;
    private javax.swing.JSpinner jsp_jumlahskrip;
    private javax.swing.JPanel pn_input;
    private javax.swing.JTextArea ta_keterangan;
    private javax.swing.JTable tbl_buku;
    private javax.swing.JTable tbl_detail;
    private javax.swing.JTable tbl_isi;
    private javax.swing.JTable tbl_skripsi;
    private javax.swing.JTextField tf_bahasa;
    private javax.swing.JTextField tf_bahasaskrip;
    private javax.swing.JTextField tf_cari;
    private javax.swing.JTextField tf_email;
    private javax.swing.JTextField tf_fakultas;
    private javax.swing.JTextField tf_idAnggota;
    private javax.swing.JTextField tf_idDetail;
    private javax.swing.JTextField tf_idbuku;
    private javax.swing.JTextField tf_idskrip;
    private javax.swing.JTextField tf_isbn;
    private javax.swing.JTextField tf_judul;
    private javax.swing.JTextField tf_judulskrip;
    private javax.swing.JTextField tf_nama;
    private javax.swing.JTextField tf_namaDetail;
    private javax.swing.JTextField tf_noDetail;
    private javax.swing.JTextField tf_noPeminjaman;
    private javax.swing.JTextField tf_pembimbing;
    private javax.swing.JTextField tf_penerbit;
    private javax.swing.JTextField tf_pengarang;
    private javax.swing.JTextField tf_penulisskrip;
    private javax.swing.JTextField tf_prodiDetail;
    private javax.swing.JTextField tf_prodiskrip;
    private javax.swing.JTextField tf_tahun;
    private javax.swing.JTextField tf_tahunskrip;
    private javax.swing.JTextField tf_tglKembali;
    private javax.swing.JTextField tf_tglKembaliDetail;
    private javax.swing.JTextField tf_tglPinjam;
    private javax.swing.JTextField tf_tglPinjamDetail;
    private javax.swing.JTextField tf_tlp;
    // End of variables declaration//GEN-END:variables

    private void setPeminjam(Peminjam mod) {
        tf_idAnggota.setText(mod.getIdPeminjam());
        tf_nama.setText(mod.getNama());
    }

    private void loadData() {
        List<Peminjaman> list = servisBuku.ambillData();
        DefaultTableModel tbl = (DefaultTableModel) tbl_isi.getModel();

        Panel_Utama.removeAll();
        Panel_Utama.repaint();
        Panel_Utama.revalidate();

        Panel_Utama.add(Pn_isi);
        Panel_Utama.repaint();
        Panel_Utama.revalidate();

        btn_hapus.setVisible(false);
        btn_batal.setVisible(false);
        Pn_isi.setVisible(false);
        jLabel1.requestFocus();
//        btn_tambah.setForeground(new Color(68, 50, 124));
//        ImageIcon icon = new ImageIcon(getClass().getResource("/img/tambah1.png"));
//        btn_tambah.setIcon(icon);
        jLabel1.requestFocus();

        for (Peminjaman p : list) {
            tbl.addRow(new Object[]{
                p.getPeminjamanPK().getNoPeminjaman(), p.getPeminjam().getNama(),
                p.getStatus(), p.getTglPinjam(), p.getTglKembali()

            });
        }
    }

    private void resetForm() {
        btn_hapus1.setVisible(false);
        btn_batal3.setVisible(false);
        //tf_no.setText(servisBuku.nomer());
        Date now = new Date();
        SimpleDateFormat tanggal = new SimpleDateFormat("yyyy-MM-dd");
        tf_tglPinjam.setText(tanggal.format(now));
        tf_tglKembali.setText("");
        tf_idAnggota.setText("");
        tf_nama.setText("");

        resetBuku();
        resetSkripsi();
        DefaultTableModel tblB = (DefaultTableModel) tbl_buku.getModel();
        DefaultTableModel tblS = (DefaultTableModel) tbl_skripsi.getModel();
        tblB.setRowCount(0);
        tblS.setRowCount(0);
    }

    private void resetBuku() {
        tf_idbuku.setText("");
        tf_judul.setText("");
        tf_isbn.setText("");
        tf_tahun.setText("");
        tf_pengarang.setText("");
        tf_penerbit.setText("");
        tf_bahasa.setText("");
        jsp_jml.setValue(0);
    }

    private void resetSkripsi() {
        tf_idskrip.setText("");
        tf_judulskrip.setText("");
        tf_tahunskrip.setText("");
        tf_bahasaskrip.setText("");
        tf_prodiskrip.setText("");
        tf_penulisskrip.setText("");
        tf_pembimbing.setText("");
        jsp_jumlahskrip.setValue(0);
    }

    private void setBuku(Buku_1 mod) {
        tf_idbuku.setText(mod.getIdBuku());
        tf_judul.setText(mod.getJudul());
        tf_isbn.setText(mod.getIsbn());
        tf_tahun.setText(mod.getTahunTerbit());
        tf_pengarang.setText(mod.getAllPengarang());
        tf_penerbit.setText(mod.getPenerbit());
        tf_bahasa.setText(mod.getBahasa());
    }

    private void setSkripsi(Skripsi mod) {
        tf_idskrip.setText(mod.getIdSkripsi());
        tf_judulskrip.setText(mod.getJudul());
        tf_tahunskrip.setText(mod.getTahun());
        tf_bahasaskrip.setText(mod.getBahasa());
        tf_prodiskrip.setText(mod.getProgramStudi());
        tf_penulisskrip.setText(mod.getPenulis());
        tf_pembimbing.setText(mod.getPembimbing());
    }

    private List<String> ambilKategori(String id) {
        String sql = "SELECT KATEGORI FROM KATEGORI_BUKU WHERE ID_BUKU = ?";
        EntityManager em = Persistence.createEntityManagerFactory("ProjekLibraryPU").createEntityManager();
        em.getTransaction().begin();
        Query query = em.createNativeQuery(sql);
        query.setParameter(1, id);
        List<String> list = query.getResultList();
        em.getTransaction().commit();
        em.close();
        return list;
    }

    private List<String> ambilPengarang(String id) {
        String sql = "SELECT NAMA_PENGARANG FROM PENGARANG WHERE ID_BUKU = ?";
        EntityManager em = Persistence.createEntityManagerFactory("ProjekLibraryPU").createEntityManager();
        em.getTransaction().begin();
        Query query = em.createNativeQuery(sql);
        query.setParameter(1, id);
        List<String> list = query.getResultList();
        em.getTransaction().commit();
        em.close();
        return list;
    }

}
